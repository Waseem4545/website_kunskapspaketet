{"version":3,"sources":["styles/images/fullscreen_mode.png","components/login.jsx","views/landing.jsx","components/categories.jsx","components/navbar.jsx","i18next.js","views/home.jsx","components/topbar.jsx","components/notify.jsx","components/expandable-row.jsx","components/modals/confirm-modal.jsx","services/http.js","components/modals/create-user.jsx","components/modals/view-user.jsx","components/userTable.jsx","components/modals/create-lecture.jsx","components/lectureTable.jsx","views/admin.jsx","views/settings.jsx","components/quiz-modal.jsx","views/lecture.jsx","views/no-match.jsx","App.js","serviceWorker.js","index.js"],"names":["module","exports","Login","props","login","bind","handleChange","signup","state","email","password","msg","e","preventDefault","this","length","firebase","catch","err","console","log","errorHandle","code","setState","profile","phoneNumber","name","role","createUser","target","value","className","style","fontSize","action","type","onChange","id","placeholder","onClick","Component","firebaseConnect","Main","title","src","banner_img","alt","Categories","lectures","map","lecture","key","background","color","to","checkLectureActive","match","location","pathname","startsWith","navbar","exact","activeClassName","isActive","resources","en","translation","ar","sv","so","ur","i18n","use","Backend","LanguageDetector","initReactI18next","init","lng","fallbackLng","keySeparator","saveMissing","debug","interpolation","escapeValue","Home","selectedLanguage","language","t","maxWidth","changeLanguage","short","long","lang","enhance","compose","firestoreConnect","collection","where","connect","firestore","ordered","withTranslation","topbar","backLink","info","Notify","message","toast","TYPE","SUCCESS","ERROR","WARNING","INFO","ExpandableRow","data","Object","keys","JSON","stringify","Confirm","isOpened","visible","onButtonClick","onClose","onConfirm","event","stopPropagation","text","content","cancelButton","showCancelButton","Button","cancelText","modal","Modal","show","onHide","dialogClassName","keyboard","backdrop","enforceFocus","Header","Title","Body","dangerouslySetInnerHTML","body","__html","Footer","variant","confirmBSStyle","confirmText","children","btn","React","Children","only","cloneElement","size","buttonText","defaultProps","BASEURL","handleError","error","CreateUser","handleShow","handleClose","handleStateUserChange","save","user","updatedValues","axios","put","servicesHttp","then","res","success","userUid","userRole","post","teacher","Fragment","disabled","auth","uid","ViewUser","quizzes","doc","get","docs","forEach","push","quiz","userInput","x","assign","input","teacherCheck","update","checkIfCorrect","userAnswer","correctAnswer","answerIndex","includes","parseInt","width","height","position","top","left","right","Accordion","index","Card","quizTitle","Toggle","as","eventKey","quizSubmitted","date","Date","getFullYear","getMonth","slice","getDate","getHours","getMinutes","convertDate","numberOfCorrectAnswers","numberOfQuestions","Collapse","padding","questions","question","questionIndex","answerSelectionType","ListGroup","answers","answer","Item","createTheme","primary","secondary","default","context","divider","button","hover","UserTable","users","columns","selector","sortable","conditionalCellStyles","when","row","backgroundColor","cell","hide","deleteUser","noHeader","theme","pagination","paginationPerPage","expandableRows","expandableRowsComponent","CreateLecture","_isMounted","category","isVisible","videoUrl","links","snapShot","tempQuizzes","concat","ca","isCorrect","linksUpdated","parse","heading","linkIndex","itemIndex","items","quizzesUpdated","quizIndex","questionType","point","messageForIncorrectAnswer","messageForCorrectAnswer","updateValues","information","correctAnswers","filter","v","toString","batch","quizId","lectureBatch","commit","rows","addLink","link","headingChange","splice","deleteLink","addItem","item","itemChange","deleteItem","defaultValue","quizChange","addQuizQuestion","questionChange","deleteQuestion","answerChange","checked","LectureTable","toggleLecture","expandableRowDisabled","Admin","history","delete","notifyText","warning","currentUser","getArr","withRouter","Settings","logout","patchValues","updatePassword","updateProfile","htmlFor","quizModal","quizData","appLocale","landingHeaderText","multipleSelectionTagText","nextQuestionBtn","pickNumberOfSelection","resultFilterAll","resultFilterCorrect","resultFilterIncorrect","resultPageHeaderText","resultPagePoint","singleSelectionTagText","startQuizBtn","locale","quizLocale","onComplete","obj","lectureId","toISOString","quizzesData","set","Lecture","innerHtml","listStyle","params","lectureName","toLowerCase","subcollections","storeAs","prop","find","NoMatch","App","onAuthStateChanged","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","pauseOnHover","closeButton","transition","Slide","isLoaded","fallback","path","component","Landing","Boolean","window","hostname","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","rootReducer","combineReducers","firebaseReducer","firestoreReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunk","rrfProps","config","userProfile","useFirestoreForProfile","dispatch","createFirestoreInstance","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.ebde9f29.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/fullscreen_mode.89a5d4f2.png\";","import React, { Component } from 'react';\r\nimport { firebaseConnect } from 'react-redux-firebase';\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.login = this.login.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.signup = this.signup.bind(this);\r\n    this.state = {\r\n      email: '',\r\n      password: '',\r\n      msg: ''\r\n    };\r\n  }\r\n\r\n  login(e) {\r\n    e.preventDefault();\r\n    const { email, password } = this.state;\r\n    if (email.length > 0 && password.length > 0) {\r\n      this.props.firebase.login(this.state).catch(err => {\r\n        console.log('doSignInWithEmailAndPassword - err: ', err);\r\n        this.errorHandle(err.code);\r\n      });\r\n    } else {\r\n      this.setState({ msg: 'får inte att logga in med tomma fält' });\r\n    }\r\n  }\r\n\r\n  signup(e) {\r\n    e.preventDefault();\r\n    const { email, password } = this.state;\r\n    if (email.length > 0 && password.length > 0) {\r\n      const profile = {\r\n        email: this.state.email,\r\n        phoneNumber: '',\r\n        name: '',\r\n        role: 'student'\r\n      };\r\n      this.props.firebase.createUser(this.state, profile).catch(err => {\r\n        console.log('doCreateUserWithEmailAndPassword - err: ', err);\r\n        this.errorHandle(err.code);\r\n      });\r\n    } else {\r\n      this.setState({ msg: 'får inte att registera dig med tomma fält' });\r\n    }\r\n  }\r\n\r\n  handleChange(e) {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  }\r\n\r\n  errorHandle(err) {\r\n    if (err === 'auth/wrong-password') {\r\n      this.setState({ msg: 'E-postadressen eller lösenord felaktig' });\r\n    }\r\n    if (err === 'auth/invalid-email') {\r\n      this.setState({ msg: 'E-postadressen är inte glitlig' });\r\n    }\r\n    if (err === 'auth/user-not-found') {\r\n      this.setState({ msg: 'E-postadressen finns inte' });\r\n    }\r\n    if (err === 'auth/email-already-in-use') {\r\n      this.setState({ msg: 'E-postadressen används redan av ett annat konto.' });\r\n    }\r\n    if (err === 'auth/weak-password') {\r\n      this.setState({ msg: 'Lösenordet måste vara minst 6 tecken' });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"row login\">\r\n        <div className=\"col-md-6 login-form\">\r\n          <div className=\"w-75 mx-auto\">\r\n            <p className=\"bg-warning text-center\" style={{ fontSize: '13px' }}>\r\n              {this.state.msg}\r\n            </p>\r\n          </div>\r\n          <form action=\"\">\r\n            <div className=\"form-group\">\r\n              <input\r\n                value={this.state.email}\r\n                type=\"email\"\r\n                onChange={this.handleChange}\r\n                id=\"InputEmail\"\r\n                className=\"form-control\"\r\n                name=\"email\"\r\n                placeholder=\"E-post\"\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input\r\n                value={this.state.password}\r\n                type=\"password\"\r\n                onChange={this.handleChange}\r\n                id=\"InputPassword\"\r\n                className=\"form-control\"\r\n                name=\"password\"\r\n                placeholder=\"Lösenord\"\r\n              />\r\n            </div>\r\n            <div className=\"w-100 d-flex flex-row justify-content-around  mx-auto my-3\">\r\n              <button onClick={this.signup} className=\"btn btn-success btn-sm\" name=\"values\">\r\n                Registrera\r\n              </button>\r\n              <button type=\"submit\" onClick={this.login} className=\"btn btn-primary btn-sm\" name=\"values\">\r\n                Logga in\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default firebaseConnect()(Login);\r\n","import React, { Component } from 'react';\r\nimport Login from '../components/login';\r\nimport banner_img from '../styles/images/fullscreen_mode.png';\r\n\r\nexport default class Main extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      title: 'Välkommen till kunskapspaketet'\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container-fluid main-container\">\r\n        <div className=\"banner\">\r\n          <div className=\"banner-content\">\r\n            <h5>{this.state.title}</h5>\r\n            <hr />\r\n            <p>Om du har problem med att logga in, kontakta din handledare.</p>\r\n          </div>\r\n          <div className=\"banner-image\">\r\n            <img src={banner_img} alt=\"\" />\r\n          </div>\r\n        </div>\r\n\r\n        <Login />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport '../styles/css/categories.css';\r\n\r\nconst Categories = ({ lectures }) => {\r\n  return (\r\n    <div className=\"px-2\">\r\n      <div className=\"categories-container\">\r\n        {lectures.map((lecture) => (\r\n          <Link\r\n            className=\"categories-item\"\r\n            key={lecture.id}\r\n            style={{ background: lecture.color }}\r\n            to={'/lecture/' + lecture.id}>\r\n            {lecture.name}\r\n          </Link>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Categories;\r\n","import React from 'react';\r\n\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst checkLectureActive = (match, location) => {\r\n  if (!location) return false;\r\n  const { pathname } = location;\r\n  return pathname === '/' || pathname.startsWith('/lecture');\r\n};\r\n\r\nconst navbar = ({ role }) => {\r\n  return (\r\n    <div className=\"mobile-navbar\">\r\n      <NavLink exact={true} activeClassName=\"active\" to=\"/\" isActive={checkLectureActive}>\r\n        <i className=\"fa fa-home fa-lg\"></i>\r\n      </NavLink>\r\n      {(role === 'teacher' || role === 'super_admin') && (\r\n        <NavLink exact={true} activeClassName=\"active\" to=\"/admin\">\r\n          <i className=\"fa fa-users-cog\"></i>\r\n        </NavLink>\r\n      )}\r\n      <NavLink exact={true} activeClassName=\"active\" to=\"/settings\">\r\n        <i className=\"fa fa-user-circle fa-lg\"></i>\r\n      </NavLink>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default navbar;\r\n","import i18n from 'i18next';\r\nimport { initReactI18next } from 'react-i18next';\r\n\r\nimport Backend from 'i18next-http-backend';\r\nimport LanguageDetector from 'i18next-browser-languagedetector';\r\n\r\nimport enTranslation from './statics/locales/en/translation.json';\r\nimport arTranslation from './statics/locales/ar/translation.json';\r\nimport svTranslation from './statics/locales/sv/translation.json';\r\nimport soTranslation from './statics/locales/so/translation.json';\r\nimport urTranslation from './statics/locales/ur/translation.json';\r\n\r\n// the translations\r\n// (tip move them in a JSON file and import them)\r\nconst resources = {\r\n  en: {\r\n    translation: enTranslation\r\n  },\r\n  ar: { translation: arTranslation },\r\n  sv: { translation: svTranslation },\r\n  so: { translation: soTranslation },\r\n  ur: { translation: urTranslation },\r\n};\r\n\r\ni18n\r\n  // load translation using http -> see /public/locales (i.e. https://github.com/i18next/react-i18next/tree/master/example/react/public/locales)\r\n  // learn more: https://github.com/i18next/i18next-http-backend\r\n  .use(Backend)\r\n  // detect user language\r\n  // learn more: https://github.com/i18next/i18next-browser-languageDetector\r\n  .use(LanguageDetector)\r\n  // pass the i18n instance to react-i18next.\r\n  .use(initReactI18next)\r\n  // init i18next\r\n  // for all options read: https://www.i18next.com/overview/configuration-options\r\n  .init({\r\n    resources,\r\n    lng: 'sv',\r\n    fallbackLng: 'sv',\r\n    keySeparator: false,\r\n    saveMissing: true,\r\n    debug: true,\r\n\r\n    interpolation: {\r\n      escapeValue: false // not needed for react as it escapes by default\r\n    }\r\n  });\r\n\r\nexport default i18n;\r\n","import React, { Component } from 'react';\r\n\r\nimport { firebaseConnect, firestoreConnect } from 'react-redux-firebase';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\n\r\nimport Categories from '../components/categories';\r\nimport Navbar from '../components/navbar';\r\nimport { withTranslation } from 'react-i18next';\r\nimport i18n from '../i18next';\r\n\r\nclass Home extends Component {\r\n  render() {\r\n    const possibleLanguages = [\r\n      { short: 'ar', long: 'Arabiska' },\r\n      { short: 'en', long: 'Engelska' },\r\n      { short: 'sv', long: 'Svenska' },\r\n      { short: 'so', long: 'Somaliska' },\r\n      { short: 'ur', long: 'Urdu' }\r\n    ];\r\n    let selectedLanguage = this.props.i18n.language;\r\n    const changeLanguage = lng => {\r\n      i18n.changeLanguage(lng);\r\n      selectedLanguage = lng;\r\n    };\r\n\r\n    const { lectures, profile, t } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <div className=\"container-fluid public-container\">\r\n          <div className=\"welcome\">\r\n            <h6 className=\"text-white text-center py-3\">Välkommen {profile.name ? profile.name : profile.email}</h6>\r\n          </div>\r\n          {lectures && lectures.length > 0 && <Categories lectures={lectures} />}\r\n          <div className=\"row m-0 px-2 py-3\">\r\n            <div className=\"translate_bt col-12 col-lg-9 mx-auto my-3 d-flex flex-column\">\r\n              <select\r\n                className=\"form-control\"\r\n                style={{ maxWidth: '320px' }}\r\n                value={selectedLanguage}\r\n                onChange={e => changeLanguage(e.target.value)}>\r\n                {possibleLanguages.map(lang => (\r\n                  <option key={lang.short} value={lang.short}>\r\n                    {lang.long}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n\r\n            <div className=\"col-12 col-lg-9 mx-auto pb-5 \">\r\n              <h5>{t('title')}</h5>\r\n              <hr className=\"my-2\" />\r\n              <p>{t('description')}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <Navbar role={profile.role} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst enhance = compose(\r\n  firebaseConnect(),\r\n  firestoreConnect(() => [\r\n    {\r\n      collection: 'lectures',\r\n      where: ['isVisible', '==', true]\r\n    }\r\n  ]),\r\n  connect(state => ({\r\n    profile: state.firebase.profile,\r\n    lectures: state.firestore.ordered.lectures\r\n  }))\r\n);\r\n\r\nexport default enhance(withTranslation()(Home));\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport '../styles/css/topbar.css';\r\n\r\nconst topbar = ({ name, backLink, color, info }) => {\r\n  return (\r\n    <div className=\"topbar\" style={{ background: color ? color : '#314f6f' }}>\r\n      <h5 className=\"text-white m-0 w-100 position-relative\">\r\n        {backLink && (\r\n          <Link to={backLink} className=\"position-absolute back-button\">\r\n            <i className=\"fa fa-arrow-left ml-4 fa-xs\"></i>\r\n          </Link>\r\n        )}\r\n        {name}\r\n        {info && (\r\n          <button className=\"position-absolute info-button\">\r\n            <i className=\"fa fa-info-circle mr-4 fa-xs\"></i>\r\n          </button>\r\n        )}\r\n      </h5>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default topbar;\r\n","import { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\n\r\nclass Notify extends Component {\r\n  static success(message) {\r\n    toast(message, { type: toast.TYPE.SUCCESS });\r\n  }\r\n\r\n  static error(message) {\r\n    toast(message, { type: toast.TYPE.ERROR });\r\n  }\r\n\r\n  static warning(message) {\r\n    toast(message, { type: toast.TYPE.WARNING });\r\n  }\r\n\r\n  static info(message) {\r\n    toast(message, { type: toast.TYPE.INFO });\r\n  }\r\n}\r\n\r\nexport default Notify;\r\n","import React from 'react';\r\n\r\nconst ExpandableRow = data => {\r\n  return (\r\n    <ul className=\"p-0\">\r\n      {Object.keys(data.data).map(key => (\r\n        <li key={key} className=\"pl-3\">\r\n          <b>{key}: </b> {JSON.stringify(data.data[key])}\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ExpandableRow;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Modal from 'react-bootstrap/Modal';\r\n\r\nclass Confirm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isOpened: props.visible\r\n    };\r\n    this.onButtonClick = this.onButtonClick.bind(this);\r\n    this.onClose = this.onClose.bind(this);\r\n    this.onConfirm = this.onConfirm.bind(this);\r\n  }\r\n\r\n  onButtonClick() {\r\n    // Since the modal is inside the button click events will propagate up.\r\n    if (!this.state.isOpened) {\r\n      this.setState({\r\n        isOpened: true\r\n      });\r\n    }\r\n  }\r\n\r\n  onClose(event) {\r\n    if (event) {\r\n      event.stopPropagation();\r\n    }\r\n    this.setState({\r\n      isOpened: false\r\n    });\r\n\r\n    if (typeof this.props.onClose === 'function') {\r\n      this.props.onClose();\r\n    }\r\n  }\r\n\r\n  onConfirm(event) {\r\n    event.stopPropagation();\r\n    this.setState({\r\n      isOpened: false\r\n    });\r\n    this.props.onConfirm();\r\n  }\r\n\r\n  render() {\r\n    const innerHtml = text => {\r\n      return { __html: text ? text : '--' };\r\n    };\r\n    var cancelButton = this.props.showCancelButton ? (\r\n      <Button className=\"default\" onClick={this.onClose}>\r\n        {this.props.cancelText}\r\n      </Button>\r\n    ) : null;\r\n    var modal = (\r\n      <Modal\r\n        show={this.state.isOpened}\r\n        onHide={this.onClose}\r\n        className={this.props.className}\r\n        dialogClassName={this.props.dialogClassName}\r\n        keyboard={this.props.keyboard}\r\n        backdrop={this.props.backdrop}\r\n        enforceFocus={this.props.enforceFocus}>\r\n        <Modal.Header>\r\n          <Modal.Title>{this.props.title}</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body dangerouslySetInnerHTML={innerHtml(this.props.body)}></Modal.Body>\r\n        <Modal.Footer>\r\n          {cancelButton}\r\n          <Button variant=\"danger\" className={this.props.confirmBSStyle} onClick={this.onConfirm}>\r\n            {this.props.confirmText}\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    );\r\n    var content;\r\n    if (this.props.children) {\r\n      var btn = React.Children.only(this.props.children);\r\n      content = React.cloneElement(\r\n        btn,\r\n        {\r\n          onClick: this.onButtonClick,\r\n          style: this.props.style\r\n        },\r\n        btn.props.children,\r\n        modal\r\n      );\r\n    } else {\r\n      content = (\r\n        <Button variant=\"danger\" size=\"sm\" onClick={this.onButtonClick} style={this.props.style}>\r\n          {this.props.buttonText}\r\n          {modal}\r\n        </Button>\r\n      );\r\n    }\r\n    return content;\r\n  }\r\n}\r\n\r\nConfirm.propTypes = {\r\n  body: PropTypes.node.isRequired,\r\n  buttonText: PropTypes.node,\r\n  cancelText: PropTypes.node,\r\n  className: PropTypes.string,\r\n  confirmBSStyle: PropTypes.string,\r\n  confirmText: PropTypes.node,\r\n  dialogClassName: PropTypes.string,\r\n  keyboard: PropTypes.bool,\r\n  backdrop: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\r\n  enforceFocus: PropTypes.bool,\r\n  onConfirm: PropTypes.func.isRequired,\r\n  onClose: PropTypes.func,\r\n  showCancelButton: PropTypes.bool.isRequired,\r\n  title: PropTypes.node.isRequired,\r\n  visible: PropTypes.bool\r\n};\r\n\r\nConfirm.defaultProps = {\r\n  cancelText: 'Cancel',\r\n  confirmText: 'Confirm',\r\n  confirmBSStyle: 'danger',\r\n  showCancelButton: true\r\n};\r\n\r\nexport { Confirm };\r\nexport default Confirm;\r\n","import axios from 'axios';\r\nimport Notify from '../components/notify';\r\n\r\nconst BASEURL = 'https://europe-west3-kunskapspaketet.cloudfunctions.net/widgets/user';\r\nexport function removeUser(uid) {\r\n  return axios.delete(`${BASEURL}/${uid}`);\r\n}\r\n\r\nexport function createUser(user) {\r\n  return axios.post(`${BASEURL}`, user);\r\n}\r\n\r\nexport function updateUser(id, updatedValues) {\r\n  return axios.put(`${BASEURL}/${id}`, updatedValues);\r\n}\r\n\r\nexport function handleError(err) {\r\n  console.log('err: ', err);\r\n  console.log(JSON.stringify(err));\r\n  Notify.error(`Något gick fel: ${err.message}`);\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport { compose } from 'redux';\r\nimport { firebaseConnect } from 'react-redux-firebase';\r\n\r\nimport Notify from '../notify';\r\n\r\nimport * as servicesHttp from '../../services/http';\r\nimport { connect } from 'react-redux';\r\n\r\nclass CreateUser extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      show: false,\r\n      name: '',\r\n      email: '',\r\n      phoneNumber: '',\r\n      password: ''\r\n    };\r\n    this.handleShow = this.handleShow.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.handleStateUserChange = this.handleStateUserChange.bind(this);\r\n    this.save = this.save.bind(this);\r\n  }\r\n\r\n  handleShow() {\r\n    this.setState({ show: true });\r\n    const { user } = this.props;\r\n    if (user) {\r\n      this.setState(user);\r\n    }\r\n  }\r\n\r\n  handleClose() {\r\n    this.setState({ show: false });\r\n  }\r\n\r\n  handleStateUserChange(e) {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  }\r\n\r\n  save(e) {\r\n    e.preventDefault();\r\n    const { user } = this.props;\r\n    if (user) {\r\n      const updatedValues = {\r\n        name: this.state.name,\r\n        password: this.state.password,\r\n        phoneNumber: this.state.phoneNumber\r\n      };\r\n\r\n      servicesHttp\r\n        .updateUser(user.id, updatedValues)\r\n        .then(res => {\r\n          console.log('res : ', res);\r\n          Notify.success(`Eleven har uppdaterats: ${this.state.email}`);\r\n          this.handleClose();\r\n        })\r\n        .catch(err => servicesHttp.handleError(err));\r\n    } else {\r\n      const { userUid, userRole } = this.props;\r\n      const newUser = {\r\n        name: this.state.name,\r\n        email: this.state.email,\r\n        password: this.state.password,\r\n        teacher: userUid,\r\n        role: userRole === 'super_admin' ? 'teacher' : 'student',\r\n        phoneNumber: this.state.phoneNumber\r\n      };\r\n      servicesHttp\r\n        .createUser(newUser)\r\n        .then(res => {\r\n          console.log('res : ', res);\r\n          Notify.success(`Eleven har skapats: ${this.state.email}`);\r\n          this.handleClose();\r\n        })\r\n        .catch(err => servicesHttp.handleError(err));\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { show, name, email, phoneNumber, password } = this.state;\r\n    const { user } = this.props;\r\n    return (\r\n      <React.Fragment>\r\n        <button className={`btn btn-sm ${user ? 'btn-warning text-white' : 'btn-primary'}`} onClick={this.handleShow}>\r\n          {user ? (\r\n            <React.Fragment>\r\n              <i className=\"fa fa-edit\"></i>\r\n            </React.Fragment>\r\n          ) : (\r\n            <React.Fragment>\r\n              <i className=\"fa fa-plus\"></i>\r\n            </React.Fragment>\r\n          )}\r\n        </button>\r\n        <Modal show={show} backdrop=\"static\" keyboard={false} onHide={this.handleClose}>\r\n          <Modal.Header>\r\n            <Modal.Title>{user ? 'Editera användare' : 'Skapa användare'}</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <form>\r\n              <div className=\"form-group\">\r\n                <label>Namn</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"name\"\r\n                  value={name}\r\n                  onChange={this.handleStateUserChange}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label>E-post</label>\r\n                <input\r\n                  type=\"email\"\r\n                  className=\"form-control\"\r\n                  disabled={user ? true : false}\r\n                  name=\"email\"\r\n                  value={email}\r\n                  onChange={this.handleStateUserChange}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label>Telenummer</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"phoneNumber\"\r\n                  value={phoneNumber}\r\n                  onChange={this.handleStateUserChange}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label>Lösenord</label>\r\n                <input\r\n                  type=\"password\"\r\n                  className=\"form-control\"\r\n                  name=\"password\"\r\n                  value={password}\r\n                  onChange={this.handleStateUserChange}\r\n                />\r\n              </div>\r\n            </form>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <button className=\"btn btn-secondary\" onClick={this.handleClose}>\r\n              Stäng\r\n            </button>\r\n            <button className=\"btn btn-success\" onClick={this.save}>\r\n              Spara\r\n            </button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst enhance = compose(\r\n  firebaseConnect(),\r\n  connect(state => ({\r\n    userUid: state.firebase.auth.uid,\r\n    userRole: state.firebase.profile.role\r\n  }))\r\n);\r\n\r\nexport default enhance(CreateUser);\r\n","import React, { Component } from 'react';\r\n\r\nimport { Modal, Accordion, Card, ListGroup } from 'react-bootstrap';\r\nimport { compose } from 'redux';\r\nimport { firestoreConnect } from 'react-redux-firebase';\r\nimport { connect } from 'react-redux';\r\nimport * as servicesHttp from '../../services/http';\r\n\r\nclass ViewUser extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      show: false,\r\n      quizzes: null\r\n    };\r\n    this.handleShow = this.handleShow.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n  }\r\n\r\n  handleShow() {\r\n    this.setState({ show: true });\r\n    const { firestore } = this.props;\r\n    firestore\r\n      .collection('users')\r\n      .doc(this.props.user.id)\r\n      .collection('quizzes')\r\n      .get()\r\n      .then(res => {\r\n        const quizzes = [];\r\n        res.docs.forEach(doc => {\r\n          quizzes.push(doc.data());\r\n        });\r\n        quizzes.forEach(quiz => {\r\n          quiz.userInput.forEach(x => {\r\n            if (typeof x === 'object') {\r\n              x = Object.assign([], x);\r\n            }\r\n          });\r\n        });\r\n        quizzes.forEach(quiz => {\r\n          quiz.userInput = quiz.userInput.map(input => {\r\n            if (typeof input === 'object') {\r\n              input = Object.assign([], input);\r\n            }\r\n            return input;\r\n          });\r\n        });\r\n\r\n        this.setState({ quizzes: quizzes });\r\n      });\r\n  }\r\n\r\n  handleClose() {\r\n    this.setState({ show: false });\r\n    const { firestore } = this.props;\r\n    const { userUid } = this.props;\r\n    const { user } = this.props;\r\n    if (user.teacherCheck && user.teacher === userUid) {\r\n      firestore\r\n        .collection('users')\r\n        .doc(user.id)\r\n        .update({ teacherCheck: false })\r\n        .then(() => {})\r\n        .catch(err => servicesHttp.handleError(err));\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { show, quizzes } = this.state;\r\n    const { user } = this.props;\r\n\r\n    const checkIfCorrect = (userAnswer, correctAnswer, answerIndex) => {\r\n      if (typeof correctAnswer === 'object') {\r\n        if (correctAnswer.includes(answerIndex)) {\r\n          return correctAnswer.includes(answerIndex) ? 'bg-success text-white' : 'bg-danger text-white';\r\n        }\r\n        return userAnswer.includes(answerIndex) ? 'bg-danger text-white' : '';\r\n      } else {\r\n        return parseInt(correctAnswer) === answerIndex\r\n          ? 'bg-success text-white'\r\n          : parseInt(userAnswer) === answerIndex\r\n          ? 'bg-danger text-white'\r\n          : '';\r\n      }\r\n    };\r\n\r\n    const convertDate = quizSubmitted => {\r\n      const date = new Date(quizSubmitted);\r\n      return `${date.getFullYear()}/${('0' + (date.getMonth() + 1)).slice(-2)}/${('0' + date.getDate()).slice(\r\n        -2\r\n      )} ${date.getHours()}:${date.getMinutes()}`;\r\n    };\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <button\r\n          className=\"btn btn-info btn-sm\"\r\n          style={{\r\n            width: '33.75px',\r\n            height: '31px',\r\n            position: 'relative'\r\n          }}\r\n          onClick={this.handleShow}>\r\n          <span\r\n            className=\"fa-stack\"\r\n            style={{\r\n              top: '0',\r\n              left: '0',\r\n              width: '33.75px',\r\n              height: '31px',\r\n              position: 'absolute'\r\n            }}>\r\n            <i className=\"fa fa-file-alt fa-stack-1x\"></i>\r\n            {user.teacherCheck && (\r\n              <i\r\n                className=\"fa fa-bell fa-stack-1x text-danger\"\r\n                style={{ left: 'auto', right: '-5px', top: '-5px' }}></i>\r\n            )}\r\n          </span>\r\n        </button>\r\n        <Modal show={show} backdrop=\"static\" keyboard={false} onHide={this.handleClose}>\r\n          <Modal.Header>Quiz svar för {user.name ? user.name : user.email}</Modal.Header>\r\n          <Modal.Body>\r\n            <pre>{JSON.stringify(user, null, 2)}</pre>\r\n            {quizzes?.length > 0 ? (\r\n              <>\r\n                <Accordion>\r\n                  {quizzes.map((quiz, index) => (\r\n                    <Card key={quiz.quizTitle}>\r\n                      <Accordion.Toggle\r\n                        as={Card.Header}\r\n                        className=\"w-100 text-left px-3 py-2\"\r\n                        variant=\"link\"\r\n                        eventKey={index}>\r\n                        {quiz.quizTitle} - {convertDate(quiz.quizSubmitted)} - {quiz.numberOfCorrectAnswers} av{' '}\r\n                        {quiz.numberOfQuestions} rätt\r\n                      </Accordion.Toggle>\r\n                      <Accordion.Collapse eventKey={index}>\r\n                        <Card.Body style={{ padding: '8px' }}>\r\n                          {quiz.questions.map((question, questionIndex) => (\r\n                            <div key={`${index}+${question.question}`}>\r\n                              {questionIndex === 0 && (\r\n                                <div>\r\n                                  {user.name ? user.name : user.email} fick {quiz.numberOfCorrectAnswers} av{' '}\r\n                                  {quiz.numberOfQuestions} frågor rätt\r\n                                </div>\r\n                              )}\r\n                              <br />\r\n                              <h6 className=\"text-secondary\">\r\n                                <p>\r\n                                  Q{questionIndex + 1}: {question.question}\r\n                                </p>\r\n                                <span\r\n                                  className={`badge py-2 px-3 text-white ${\r\n                                    question.answerSelectionType === 'multiple' ? 'badge-warning' : 'badge-primary'\r\n                                  }`}>\r\n                                  {question.answerSelectionType === 'multiple' ? 'Flerval' : 'Ett val'}\r\n                                </span>\r\n                                <span className=\"badge py-2 px-3 ml-1 text-white\" style={{ background: '#673AB7' }}>\r\n                                  Välj {question.correctAnswer.length}\r\n                                </span>\r\n                              </h6>\r\n                              <ListGroup as=\"ul\">\r\n                                {question.answers.map((answer, answerIndex) => (\r\n                                  <ListGroup.Item\r\n                                    as=\"li\"\r\n                                    key={answer}\r\n                                    className={checkIfCorrect(\r\n                                      quiz.userInput[questionIndex],\r\n                                      question.correctAnswer,\r\n                                      answerIndex + 1\r\n                                    )}>\r\n                                    {answer}\r\n                                  </ListGroup.Item>\r\n                                ))}\r\n                              </ListGroup>\r\n                            </div>\r\n                          ))}\r\n                        </Card.Body>\r\n                      </Accordion.Collapse>\r\n                    </Card>\r\n                  ))}\r\n                </Accordion>\r\n              </>\r\n            ) : (\r\n              <h4>Har inte gjort något quiz ännu</h4>\r\n            )}\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <button className=\"btn btn-secondary\" onClick={this.handleClose}>\r\n              Stäng\r\n            </button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst enhance = compose(\r\n  firestoreConnect(),\r\n  connect(state => ({\r\n    userUid: state.firebase.auth.uid\r\n  }))\r\n);\r\n\r\nexport default enhance(ViewUser);\r\n","import React from 'react';\r\nimport DataTable, { createTheme } from 'react-data-table-component';\r\n\r\nimport ExpandableRowData from '../components/expandable-row.jsx';\r\nimport Confirm from './modals/confirm-modal';\r\nimport CreateUser from './modals/create-user';\r\nimport ViewUser from './modals/view-user';\r\n\r\ncreateTheme('solarized', {\r\n  text: {\r\n    primary: '#00000',\r\n    secondary: '#2aa198'\r\n  },\r\n  background: {\r\n    default: '#eee'\r\n  },\r\n  context: {\r\n    background: '#eee',\r\n    text: '#000000'\r\n  },\r\n  divider: {\r\n    default: '#073642'\r\n  },\r\n  action: {\r\n    button: 'rgba(0,0,0,.54)',\r\n    hover: 'rgba(0,0,0,.08)',\r\n    disabled: 'rgba(0,0,0,.12)'\r\n  }\r\n});\r\n\r\nconst UserTable = props => {\r\n  const { users } = props;\r\n  const data = [];\r\n\r\n  const columns = [\r\n    {\r\n      name: 'Roll',\r\n      selector: 'role',\r\n      sortable: true,\r\n      width: '50px',\r\n      style: {\r\n        color: '#ffffff'\r\n      },\r\n      conditionalCellStyles: [\r\n        {\r\n          when: row => row.role === 'teacher',\r\n          style: {\r\n            backgroundColor: '#4299e1'\r\n          }\r\n        },\r\n        {\r\n          when: row => row.role === 'student',\r\n          style: {\r\n            backgroundColor: '#48bb78'\r\n          }\r\n        },\r\n        {\r\n          when: row => row.role === 'super_admin',\r\n          style: {\r\n            backgroundColor: '#EBB035'\r\n          }\r\n        }\r\n      ],\r\n      cell: row => (\r\n        <div className=\"w-100 text-center\">\r\n          {row.role === 'teacher' ? 'T' : row.role === 'super_admin' ? 'SA' : 'S'}\r\n        </div>\r\n      )\r\n    },\r\n    {\r\n      name: 'Namn',\r\n      selector: 'name',\r\n      sortable: true,\r\n      hide: 'sm'\r\n    },\r\n    {\r\n      name: 'E-post',\r\n      selector: 'email',\r\n      sortable: true\r\n    },\r\n    {\r\n      name: 'Telenummer',\r\n      selector: 'phoneNumber',\r\n      sortable: true,\r\n      hide: 'sm'\r\n    },\r\n    {\r\n      name: 'Actions',\r\n      sortable: false,\r\n      style: { padding: '0' },\r\n      cell: row => (\r\n        <div>\r\n          {row.role !== 'super_admin' && (\r\n            <>\r\n              {row.role === 'student' && <ViewUser user={row} />}\r\n              <CreateUser user={row} />\r\n              <Confirm\r\n                onConfirm={() => {\r\n                  props.deleteUser(row.id);\r\n                }}\r\n                body={'Är du säker du vill radera: ' + row.email}\r\n                title=\"Radera användare\"\r\n                confirmText=\"Radera\"\r\n                cancelText=\"Avbryt\"\r\n                buttonText={<i className=\"fa fa-trash\"></i>}\r\n              />\r\n            </>\r\n          )}\r\n        </div>\r\n      )\r\n    }\r\n  ];\r\n\r\n  users.forEach(user => {\r\n    data.push({\r\n      email: user.email,\r\n      phoneNumber: user.phoneNumber,\r\n      name: user.name,\r\n      role: user.role,\r\n      id: user.id,\r\n      teacherCheck: user.teacherCheck,\r\n      teacher: user.teacher\r\n    });\r\n  });\r\n\r\n  return (\r\n    <div className=\"userTable mt-3\">\r\n      <h5 className=\"m-0 pb-0 pt-2 px-2\" style={{ background: '#eeeeee' }}>\r\n        Användare <CreateUser />\r\n      </h5>\r\n      <DataTable\r\n        noHeader={true}\r\n        columns={columns}\r\n        theme=\"solarized\"\r\n        data={data}\r\n        pagination={true}\r\n        paginationPerPage={10}\r\n        expandableRows\r\n        expandableRowsComponent={<ExpandableRowData data={data.data} />}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserTable;\r\n","import React, { Component } from 'react';\r\n\r\nimport { Modal, Accordion, Card } from 'react-bootstrap';\r\n\r\nimport * as servicesHttp from '../../services/http';\r\nimport Notify from '../notify';\r\nimport Confirm from './confirm-modal';\r\n\r\nclass CreateLecture extends Component {\r\n  _isMounted = false;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      show: false,\r\n      id: '',\r\n      category: '',\r\n      color: '',\r\n      info: '',\r\n      isVisible: true,\r\n      videoUrl: '',\r\n      links: null,\r\n      quizzes: []\r\n    };\r\n    this.handleShow = this.handleShow.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.save = this.save.bind(this);\r\n  }\r\n\r\n  handleShow() {\r\n    if (this._isMounted) {\r\n      this.setState({ show: true });\r\n    }\r\n    const { lecture, firestore } = this.props;\r\n    if (lecture) {\r\n      if (this._isMounted) {\r\n        this.setState(lecture);\r\n      }\r\n\r\n      firestore\r\n        .collection('lectures')\r\n        .doc(lecture.id)\r\n        .collection('quiz')\r\n        .get()\r\n        .then(snapShot => {\r\n          snapShot.docs.forEach(doc => {\r\n            var tempQuizzes = this.state.quizzes.concat(doc.data());\r\n            tempQuizzes.forEach(quiz => {\r\n              quiz.questions.forEach(question => {\r\n                question.correctAnswer = Object.assign([], question.correctAnswer);\r\n                question.correctAnswer = question.correctAnswer.map(ca => parseInt(ca));\r\n                question.answers = question.answers.map((answer, index) => {\r\n                  return {\r\n                    answer: answer,\r\n                    isCorrect: question.correctAnswer.includes(index + 1)\r\n                  };\r\n                });\r\n              });\r\n            });\r\n            if (this._isMounted) {\r\n              this.setState({ quizzes: tempQuizzes });\r\n            }\r\n          });\r\n        });\r\n    }\r\n  }\r\n\r\n  handleClose() {\r\n    if (this._isMounted) {\r\n      this.setState({ show: false });\r\n    }\r\n  }\r\n\r\n  handleChange(e) {\r\n    if (this._isMounted) {\r\n      this.setState({ [e.target.name]: e.target.value });\r\n    }\r\n  }\r\n\r\n  headingChange(index, event) {\r\n    const linksUpdated = JSON.parse(JSON.stringify(this.state.links));\r\n    linksUpdated[index].heading = event.target.value;\r\n    if (this._isMounted) {\r\n      this.setState({ links: linksUpdated });\r\n    }\r\n  }\r\n\r\n  itemChange(linkIndex, itemIndex, event) {\r\n    const linksUpdated = JSON.parse(JSON.stringify(this.state.links));\r\n    linksUpdated[linkIndex].items[itemIndex] = event.target.value;\r\n    if (this._isMounted) {\r\n      this.setState({ links: linksUpdated });\r\n    }\r\n  }\r\n\r\n  addLink(event) {\r\n    event.preventDefault();\r\n    const linksUpdated = JSON.parse(JSON.stringify(this.state.links));\r\n    linksUpdated.push({\r\n      heading: '',\r\n      items: []\r\n    });\r\n    if (this._isMounted) {\r\n      this.setState({ links: linksUpdated });\r\n    }\r\n  }\r\n\r\n  addItem(index, event) {\r\n    event.preventDefault();\r\n    const linksUpdated = JSON.parse(JSON.stringify(this.state.links));\r\n    linksUpdated[index].items.push('');\r\n    if (this._isMounted) {\r\n      this.setState({ links: linksUpdated });\r\n    }\r\n  }\r\n\r\n  quizChange(index, event) {\r\n    const quizzesUpdated = JSON.parse(JSON.stringify(this.state.quizzes));\r\n    quizzesUpdated[index][event.target.name] = event.target.value;\r\n    if (this._isMounted) {\r\n      this.setState({ quizzes: quizzesUpdated });\r\n    }\r\n  }\r\n\r\n  questionChange(quizIndex, questionIndex, event) {\r\n    const quizzesUpdated = JSON.parse(JSON.stringify(this.state.quizzes));\r\n    quizzesUpdated[quizIndex].questions[questionIndex].question = event.target.value;\r\n    if (this._isMounted) {\r\n      this.setState({ quizzes: quizzesUpdated });\r\n    }\r\n  }\r\n\r\n  answerChange(quizIndex, questionIndex, answerIndex, event) {\r\n    const quizzesUpdated = JSON.parse(JSON.stringify(this.state.quizzes));\r\n    if (event.target.name === 'isCorrect') {\r\n      quizzesUpdated[quizIndex].questions[questionIndex].answers[answerIndex].isCorrect = event.target.value !== 'true';\r\n    } else {\r\n      quizzesUpdated[quizIndex].questions[questionIndex].answers[answerIndex][event.target.name] = event.target.value;\r\n    }\r\n    if (this._isMounted) {\r\n      this.setState({ quizzes: quizzesUpdated });\r\n    }\r\n  }\r\n\r\n  addQuizQuestion(quizIndex, event) {\r\n    event.preventDefault();\r\n    const quizzesUpdated = JSON.parse(JSON.stringify(this.state.quizzes));\r\n\r\n    quizzesUpdated[quizIndex].questions.push({\r\n      question: '',\r\n      questionType: 'text',\r\n      point: '10',\r\n      correctAnswer: 1,\r\n      messageForIncorrectAnswer: 'Fel svar, Försök igen.',\r\n      messageForCorrectAnswer: 'Rätt svar, bra jobbat.',\r\n      answerSelectionType: 'single',\r\n      answers: [\r\n        {\r\n          answer: '',\r\n          isCorrect: true\r\n        },\r\n        {\r\n          answer: '',\r\n          isCorrect: false\r\n        },\r\n        {\r\n          answer: '',\r\n          isCorrect: false\r\n        },\r\n        {\r\n          answer: '',\r\n          isCorrect: false\r\n        }\r\n      ]\r\n    });\r\n    if (this._isMounted) {\r\n      this.setState({ quizzes: quizzesUpdated });\r\n    }\r\n  }\r\n\r\n  save(e) {\r\n    e.preventDefault();\r\n    const { lecture, firestore } = this.props;\r\n    if (lecture) {\r\n      const updateValues = {\r\n        videoUrl: this.state.videoUrl,\r\n        information: this.state.information,\r\n        color: this.state.color,\r\n        links: this.state.links\r\n      };\r\n\r\n      const quizzes = JSON.parse(JSON.stringify(this.state.quizzes));\r\n      quizzes.forEach(quiz => {\r\n        quiz.questions.forEach(question => {\r\n          const correctAnswers = question.answers\r\n            .map((answer, index) => {\r\n              return answer.isCorrect ? index + 1 : 0;\r\n            })\r\n            .filter(v => v > 0);\r\n          question.answerSelectionType = correctAnswers.length > 1 ? 'multiple' : 'single';\r\n          question.correctAnswer = correctAnswers.length > 1 ? correctAnswers : correctAnswers.toString();\r\n          question.answers = question.answers.map(answer => answer.answer);\r\n        });\r\n      });\r\n\r\n      let batch = firestore.batch();\r\n      quizzes.forEach(quiz => {\r\n        const quizId = firestore\r\n          .collection('lectures')\r\n          .doc(lecture.id)\r\n          .collection('quiz')\r\n          .doc(quiz.quizId);\r\n        batch.update(quizId, quiz);\r\n      });\r\n\r\n      const lectureBatch = firestore.collection('lectures').doc(lecture.id);\r\n      batch.update(lectureBatch, updateValues);\r\n      batch\r\n        .commit()\r\n        .then(() => {\r\n          Notify.success(`${lecture.name} har uppdaterats`);\r\n          if (this._isMounted) {\r\n            this.setState({ quizzes: [] });\r\n          }\r\n          this.handleClose();\r\n        })\r\n        .catch(err => servicesHttp.handleError(err));\r\n    } else {\r\n      console.log('Create new category will be here');\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this._isMounted = true;\r\n  }\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n  }\r\n\r\n  render() {\r\n    const { show, name, videoUrl, information, color, links, quizzes } = this.state;\r\n    const { lecture } = this.props;\r\n\r\n    const deleteLink = index => {\r\n      const linksUpdated = JSON.parse(JSON.stringify(this.state.links));\r\n      linksUpdated.splice(index, 1);\r\n      if (this._isMounted) {\r\n        this.setState({ links: linksUpdated });\r\n      }\r\n    };\r\n\r\n    const deleteItem = (linkIndex, itemIndex) => {\r\n      const linksUpdated = JSON.parse(JSON.stringify(this.state.links));\r\n      linksUpdated[linkIndex].items.splice(itemIndex, 1);\r\n      if (this._isMounted) {\r\n        this.setState({ links: linksUpdated });\r\n      }\r\n    };\r\n\r\n    const deleteQuestion = (quizIndex, answerIndex) => {\r\n      const quizzesUpdated = JSON.parse(JSON.stringify(this.state.quizzes));\r\n      quizzesUpdated[quizIndex].questions.splice(answerIndex, 1);\r\n      if (this._isMounted) {\r\n        this.setState({ quizzes: quizzesUpdated });\r\n      }\r\n    };\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <button\r\n          className={`btn btn-sm ${lecture ? 'btn-warning text-white' : 'btn-primary'}`}\r\n          onClick={this.handleShow}>\r\n          {lecture ? (\r\n            <React.Fragment>\r\n              <i className=\"fa fa-edit\"></i>\r\n            </React.Fragment>\r\n          ) : (\r\n            <React.Fragment>\r\n              <i className=\"fa fa-plus\"></i>\r\n            </React.Fragment>\r\n          )}\r\n        </button>\r\n        <Modal show={show} backdrop=\"static\" keyboard={false} onHide={this.handleClose}>\r\n          <Modal.Header>\r\n            <Modal.Title>{lecture ? 'Editera föreläsning' : 'Skapa föreläsning'}</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <form>\r\n              <div className=\"form-group\">\r\n                <label>Namn</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  disabled={lecture ? true : false}\r\n                  name=\"name\"\r\n                  value={name}\r\n                  onChange={this.handleChange}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label>Video url</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"videoUrl\"\r\n                  value={videoUrl}\r\n                  onChange={this.handleChange}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label>Information</label>\r\n                <textarea\r\n                  rows=\"10\"\r\n                  className=\"form-control\"\r\n                  name=\"information\"\r\n                  value={information}\r\n                  onChange={this.handleChange}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label>Färg</label>\r\n                <input type=\"color\" className=\"form-control\" name=\"color\" value={color} onChange={this.handleChange} />\r\n              </div>\r\n              {links && (\r\n                <>\r\n                  <h6>\r\n                    Stycken\r\n                    <button className=\"btn btn-success btn-sm ml-1\" onClick={this.addLink.bind(this)}>\r\n                      <i className=\"fa fa-plus\"></i>\r\n                    </button>\r\n                  </h6>\r\n                  <Accordion>\r\n                    {links.map((link, index) => (\r\n                      <Card key={index}>\r\n                        <Accordion.Toggle\r\n                          as={Card.Header}\r\n                          className=\"w-100 text-left px-3 py-2\"\r\n                          variant=\"link\"\r\n                          eventKey={index}>\r\n                          {link.heading ? link.heading : '--'}\r\n                        </Accordion.Toggle>\r\n                        <Accordion.Collapse eventKey={index}>\r\n                          <Card.Body className=\"px-3 py-2\">\r\n                            <div className=\"form-group\">\r\n                              <div className=\"input-group\">\r\n                                <input\r\n                                  type=\"text\"\r\n                                  className=\"form-control\"\r\n                                  name=\"heading\"\r\n                                  value={link.heading}\r\n                                  onChange={this.headingChange.bind(this, index)}\r\n                                />\r\n                                <div className=\"input-group-append\">\r\n                                  <Confirm\r\n                                    onConfirm={() => {\r\n                                      deleteLink(index);\r\n                                    }}\r\n                                    body={\r\n                                      'Är du säker du vill radera: ' +\r\n                                      link.heading +\r\n                                      ' det här kommer att radera stycket'\r\n                                    }\r\n                                    title=\"Radera stycke\"\r\n                                    confirmText=\"Radera\"\r\n                                    cancelText=\"Avbryt\"\r\n                                    buttonText={<i className=\"fa fa-trash\"></i>}\r\n                                  />\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                              <label>\r\n                                <h6>\r\n                                  Artiklar\r\n                                  <button\r\n                                    className=\"btn btn-success btn-sm ml-1\"\r\n                                    onClick={this.addItem.bind(this, index)}>\r\n                                    <i className=\"fa fa-plus\"></i>\r\n                                  </button>\r\n                                </h6>\r\n                              </label>\r\n                              <div className=\"lecture-input-container\">\r\n                                {link.items.map((item, itemIndex) => (\r\n                                  <div key={itemIndex} className=\"input-group\">\r\n                                    <input\r\n                                      type=\"text\"\r\n                                      className=\"form-control\"\r\n                                      name=\"item\"\r\n                                      value={item}\r\n                                      onChange={this.itemChange.bind(this, index, itemIndex)}\r\n                                    />\r\n                                    <div className=\"input-group-append\">\r\n                                      <Confirm\r\n                                        onConfirm={() => {\r\n                                          deleteItem(index, itemIndex);\r\n                                        }}\r\n                                        body={'Är du säker du vill radera: ' + item}\r\n                                        title=\"Radera länk\"\r\n                                        confirmText=\"Radera\"\r\n                                        cancelText=\"Avbryt\"\r\n                                        buttonText={<i className=\"fa fa-trash\"></i>}\r\n                                      />\r\n                                    </div>\r\n                                  </div>\r\n                                ))}\r\n                              </div>\r\n                            </div>\r\n                          </Card.Body>\r\n                        </Accordion.Collapse>\r\n                      </Card>\r\n                    ))}\r\n                  </Accordion>\r\n                </>\r\n              )}\r\n\r\n              {quizzes && (\r\n                <>\r\n                  <h6 className=\"mt-3\">Quizzes</h6>\r\n                  <Accordion>\r\n                    {quizzes.map((quiz, quizIndex) => (\r\n                      <Card key={quizIndex}>\r\n                        <Accordion.Toggle\r\n                          as={Card.Header}\r\n                          className=\"w-100 text-left px-3 py-2\"\r\n                          variant=\"link\"\r\n                          eventKey={quizIndex}>\r\n                          {quiz.quizTitle ? quiz.quizTitle : '--'}\r\n                        </Accordion.Toggle>\r\n                        <Accordion.Collapse className=\"p-2\" eventKey={quizIndex}>\r\n                          <div>\r\n                            <div className=\"form-group d-none\">\r\n                              <label>quizId</label>\r\n                              <input type=\"text\" className=\"form-control\" defaultValue={quiz.quizId} disabled={true} />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                              <label>Quiz namn</label>\r\n                              <input\r\n                                type=\"text\"\r\n                                className=\"form-control\"\r\n                                name=\"quizTitle\"\r\n                                value={quiz.quizTitle}\r\n                                onChange={this.quizChange.bind(this, quizIndex)}\r\n                              />\r\n                            </div>\r\n                            <h6>\r\n                              Frågor\r\n                              <button\r\n                                className=\"btn btn-success btn-sm ml-1\"\r\n                                onClick={this.addQuizQuestion.bind(this, quizIndex)}>\r\n                                <i className=\"fa fa-plus\"></i>\r\n                              </button>\r\n                            </h6>\r\n                            <Accordion>\r\n                              {quiz.questions.map((question, questionIndex) => (\r\n                                <Card key={questionIndex}>\r\n                                  <Accordion.Toggle\r\n                                    as={Card.Header}\r\n                                    className=\"w-100 text-left px-3 py-2\"\r\n                                    variant=\"link\"\r\n                                    eventKey={questionIndex}>\r\n                                    {question.question ? question.question : '--'}\r\n                                  </Accordion.Toggle>\r\n                                  <Accordion.Collapse eventKey={questionIndex}>\r\n                                    <Card.Body className=\"px-3 py-2\">\r\n                                      <div className=\"form-group\">\r\n                                        <label>Fråga</label>\r\n                                        <div className=\"input-group\">\r\n                                          <input\r\n                                            type=\"text\"\r\n                                            className=\"form-control\"\r\n                                            name=\"heading\"\r\n                                            value={question.question}\r\n                                            onChange={this.questionChange.bind(this, quizIndex, questionIndex)}\r\n                                          />\r\n                                          <div className=\"input-group-append\">\r\n                                            <Confirm\r\n                                              onConfirm={() => {\r\n                                                deleteQuestion(quizIndex, questionIndex);\r\n                                              }}\r\n                                              body={\r\n                                                'Är du säker du vill radera: ' +\r\n                                                question.question +\r\n                                                ' det här kommer att radera frågan'\r\n                                              }\r\n                                              title=\"Radera frågan\"\r\n                                              confirmText=\"Radera\"\r\n                                              cancelText=\"Avbryt\"\r\n                                              buttonText={<i className=\"fa fa-trash\"></i>}\r\n                                            />\r\n                                          </div>\r\n                                        </div>\r\n                                      </div>\r\n                                      <h6>Svar</h6>\r\n                                      <div className=\"lecture-input-container\">\r\n                                        {question.answers.map((answer, answerIndex) => (\r\n                                          <div key={answerIndex} className=\"input-group\">\r\n                                            <input\r\n                                              type=\"text\"\r\n                                              className=\"form-control\"\r\n                                              name=\"answer\"\r\n                                              value={answer.answer}\r\n                                              onChange={this.answerChange.bind(\r\n                                                this,\r\n                                                quizIndex,\r\n                                                questionIndex,\r\n                                                answerIndex\r\n                                              )}\r\n                                            />\r\n                                            <div className=\"input-group-append\">\r\n                                              <span className=\"input-group-text\">\r\n                                                <input\r\n                                                  type=\"checkbox\"\r\n                                                  name=\"isCorrect\"\r\n                                                  value={answer.isCorrect}\r\n                                                  checked={answer.isCorrect}\r\n                                                  onChange={this.answerChange.bind(\r\n                                                    this,\r\n                                                    quizIndex,\r\n                                                    questionIndex,\r\n                                                    answerIndex\r\n                                                  )}\r\n                                                />\r\n                                              </span>\r\n                                            </div>\r\n                                          </div>\r\n                                        ))}\r\n                                      </div>\r\n                                    </Card.Body>\r\n                                  </Accordion.Collapse>\r\n                                </Card>\r\n                              ))}\r\n                            </Accordion>\r\n                          </div>\r\n                        </Accordion.Collapse>\r\n                      </Card>\r\n                    ))}\r\n                  </Accordion>\r\n                </>\r\n              )}\r\n            </form>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <button className=\"btn btn-secondary\" onClick={this.handleClose}>\r\n              Stäng\r\n            </button>\r\n            <button className=\"btn btn-success\" onClick={this.save}>\r\n              Spara\r\n            </button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CreateLecture;\r\n","import React from 'react';\r\nimport DataTable, { createTheme } from 'react-data-table-component';\r\n\r\nimport ExpandableRowData from '../components/expandable-row.jsx';\r\nimport CreateLecture from './modals/create-lecture';\r\n\r\ncreateTheme('solarized', {\r\n  text: {\r\n    primary: '#00000',\r\n    secondary: '#2aa198'\r\n  },\r\n  background: {\r\n    default: '#eee'\r\n  },\r\n  context: {\r\n    background: '#eee',\r\n    text: '#000000'\r\n  },\r\n  divider: {\r\n    default: '#073642'\r\n  },\r\n  action: {\r\n    button: 'rgba(0,0,0,.54)',\r\n    hover: 'rgba(0,0,0,.08)',\r\n    disabled: 'rgba(0,0,0,.12)'\r\n  }\r\n});\r\n\r\nconst LectureTable = props => {\r\n  const { lectures } = props;\r\n  const data = [];\r\n\r\n  const columns = [\r\n    {\r\n      name: 'Kategori',\r\n      selector: 'name',\r\n      sortable: true,\r\n      width: '200px',\r\n      conditionalCellStyles: [\r\n        {\r\n          when: row => !row.isVisible,\r\n          style: {\r\n            color: 'rgba(0,0,0,.18)'\r\n          }\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      name: 'Video url',\r\n      selector: 'videoUrl',\r\n      sortable: true,\r\n      width: '200px',\r\n      hide: 'sm',\r\n      conditionalCellStyles: [\r\n        {\r\n          when: row => !row.isVisible,\r\n          style: {\r\n            color: 'rgba(0,0,0,.18)'\r\n          }\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      name: 'Information',\r\n      selector: 'information',\r\n      sortable: true,\r\n      width: '300px',\r\n      hide: 'sm',\r\n      conditionalCellStyles: [\r\n        {\r\n          when: row => !row.isVisible,\r\n          style: {\r\n            color: 'rgba(0,0,0,.18)'\r\n          }\r\n        }\r\n      ]\r\n    },\r\n\r\n    {\r\n      name: 'Actions',\r\n      sortable: false,\r\n      width: '102px',\r\n      cell: row => (\r\n        <div>\r\n          <button\r\n            className={`btn btn-sm btn-info`}\r\n            style={{\r\n              width: '33.75px',\r\n              height: '31px',\r\n              position: 'relative'\r\n            }}\r\n            onClick={() => props.toggleLecture(row)}>\r\n            <i className={`fa ${row.isVisible ? 'fa-eye' : 'fa-eye-slash'}`}></i>\r\n          </button>\r\n          <CreateLecture lecture={row} firestore={props.firestore} />\r\n        </div>\r\n      ),\r\n      conditionalCellStyles: [\r\n        {\r\n          when: row => !row.isVisible,\r\n          style: {\r\n            color: 'rgba(0,0,0,.18)'\r\n          }\r\n        }\r\n      ]\r\n    }\r\n  ];\r\n\r\n  lectures.forEach(lecture => {\r\n    data.push({\r\n      id: lecture.id,\r\n      information: lecture.information,\r\n      videoUrl: lecture.videoUrl,\r\n      name: lecture.name,\r\n      color: lecture.color,\r\n      isVisible: lecture.isVisible,\r\n      links: lecture.links\r\n    });\r\n  });\r\n\r\n  return (\r\n    <div className=\"lectureTable mt-3\">\r\n      <h5 className=\"m-0 pb-0 pt-2 px-2\" style={{ background: '#eeeeee' }}>\r\n        Föreläsningar\r\n      </h5>\r\n      <DataTable\r\n        noHeader={true}\r\n        columns={columns}\r\n        theme=\"solarized\"\r\n        data={data}\r\n        pagination={true}\r\n        paginationPerPage={10}\r\n        expandableRows\r\n        expandableRowDisabled={row => !row.isVisible}\r\n        expandableRowsComponent={<ExpandableRowData data={data.data} />}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LectureTable;\r\n","import React, { Component } from 'react';\r\nimport { firebaseConnect, firestoreConnect } from 'react-redux-firebase';\r\nimport { compose } from 'redux';\r\n\r\nimport '../styles/css/admin.css';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport Navbar from '../components/navbar';\r\nimport Topbar from '../components/topbar';\r\nimport Notify from '../components/notify';\r\nimport UserTable from '../components/userTable';\r\nimport LectureTable from '../components/lectureTable';\r\n\r\nimport * as servicesHttp from '../services/http';\r\n\r\nclass Admin extends Component {\r\n  componentDidMount() {\r\n    const { role } = this.props.profile;\r\n    if (role === 'student') {\r\n      this.props.history.push('/404');\r\n    }\r\n  }\r\n  render() {\r\n    const { profile, lectures, users } = this.props;\r\n\r\n    const deleteUser = id => {\r\n      servicesHttp\r\n        .removeUser(id)\r\n        .then(res => {\r\n          console.log('res: ', res);\r\n          Notify.success(res.data);\r\n        })\r\n        .catch(err => servicesHttp.handleError(err));\r\n    };\r\n\r\n    const toggleLecture = row => {\r\n      this.props.firebase\r\n        .firestore()\r\n        .collection('lectures')\r\n        .doc(row.id)\r\n        .update({\r\n          isVisible: !row.isVisible\r\n        })\r\n        .then(() => {\r\n          const notifyText = `${!row.isVisible ? 'Aktiverade' : 'Inaktiverade'} ${row.name}`;\r\n          if (!row.isVisible) {\r\n            Notify.success(notifyText);\r\n          } else {\r\n            Notify.warning(notifyText);\r\n          }\r\n        })\r\n        .catch(error => console.error('Error writing document: ', error));\r\n    };\r\n\r\n    return (\r\n      <div className=\"container admin\">\r\n        <Topbar name={profile.role === 'super_admin' ? 'Administration' : 'Lärare'} />\r\n        <div className=\"navbar-margin\">\r\n          {users && <UserTable users={users} deleteUser={deleteUser} />}\r\n          {profile.role === 'super_admin' && lectures && (\r\n            <LectureTable lectures={lectures} toggleLecture={toggleLecture} firestore={this.props.firestore} />\r\n          )}\r\n        </div>\r\n        <Navbar role={profile.role} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst enhance = compose(\r\n  connect(state => ({\r\n    profile: state.firebase.profile,\r\n    lectures: state.firestore.ordered.lectures,\r\n    users: state.firestore.ordered.users\r\n  })),\r\n  firebaseConnect(),\r\n  firestoreConnect(props => {\r\n    const { uid } = props.firebase.auth().currentUser;\r\n    const { role } = props.profile;\r\n\r\n    const getArr = ['lectures'];\r\n    if (role === 'super_admin') {\r\n      getArr.push('users');\r\n    } else {\r\n      getArr.push({ collection: 'users', where: ['teacher', '==', uid] });\r\n    }\r\n    return getArr;\r\n  }),\r\n  withRouter\r\n);\r\n\r\nexport default enhance(Admin);\r\n","import React, { Component } from 'react';\r\n\r\nimport { firebaseConnect } from 'react-redux-firebase';\r\nimport { compose } from 'redux';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Topbar from '../components/topbar';\r\nimport Navbar from '../components/navbar';\r\nimport { withRouter } from 'react-router-dom';\r\nimport Notify from '../components/notify';\r\nimport * as servicesHttp from '../services/http';\r\n\r\nclass Settings extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.logout = this.logout.bind(this);\r\n    this.update = this.update.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.state = {\r\n      name: this.props.profile.name || '',\r\n      email: this.props.profile.email || '',\r\n      role: this.props.profile.role || '',\r\n      phoneNumber: this.props.profile.phoneNumber || '',\r\n      password: ''\r\n    };\r\n  }\r\n\r\n  logout() {\r\n    this.props.firebase.logout();\r\n    this.props.history.push('/');\r\n  }\r\n\r\n  handleChange(e) {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  }\r\n\r\n  update(e) {\r\n    e.preventDefault();\r\n    const { firebase } = this.props;\r\n    const patchValues = {\r\n      name: this.state.name,\r\n      phoneNumber: this.state.phoneNumber\r\n    };\r\n\r\n    if (this.state.password) {\r\n      firebase.auth().currentUser.updatePassword(this.state.password);\r\n      this.setState({\r\n        password: ''\r\n      });\r\n    }\r\n\r\n    firebase\r\n      .updateProfile(patchValues)\r\n      .then(() => {\r\n        Notify.success('Uppdaterade användaren');\r\n      })\r\n      .catch(err => servicesHttp.handleError(err));\r\n  }\r\n\r\n  render() {\r\n    const profile = this.props.profile;\r\n    return (\r\n      <div>\r\n        <Topbar name=\"Inställningar\" />\r\n        <div className=\"container-fluid navbar-margin mt-2\">\r\n          <div className=\"col-12 col-lg-6 offset-lg-3 p-0\">\r\n            <div>\r\n              <hr />\r\n              <form>\r\n                <div className=\"mb-3\">\r\n                  <label className=\"mb-0\" htmlFor=\"name\">\r\n                    Name\r\n                  </label>\r\n                  <input\r\n                    id=\"name\"\r\n                    className=\"form-control\"\r\n                    name=\"name\"\r\n                    type=\"text\"\r\n                    value={this.state.name}\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                  <label className=\"mb-0\" htmlFor=\"email\">\r\n                    Email\r\n                  </label>\r\n                  <input\r\n                    id=\"email\"\r\n                    className=\"form-control\"\r\n                    type=\"text\"\r\n                    name=\"email\"\r\n                    value={this.state.email}\r\n                    onChange={this.handleChange}\r\n                    disabled\r\n                  />\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                  <label className=\"mb-0\" htmlFor=\"role\">\r\n                    Role\r\n                  </label>\r\n                  <input\r\n                    id=\"role\"\r\n                    className=\"form-control\"\r\n                    type=\"text\"\r\n                    name=\"role\"\r\n                    value={this.state.role}\r\n                    onChange={this.handleChange}\r\n                    disabled\r\n                  />\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                  <label className=\"mb-0\" htmlFor=\"phoneNumber\">\r\n                    PhoneNumber\r\n                  </label>\r\n                  <input\r\n                    id=\"phoneNumber\"\r\n                    className=\"form-control\"\r\n                    type=\"phone\"\r\n                    name=\"phoneNumber\"\r\n                    value={this.state.phoneNumber}\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                  <label className=\"mb-0\" htmlFor=\"password\">\r\n                    Ändra lösenord\r\n                  </label>\r\n                  <input\r\n                    id=\"password\"\r\n                    className=\"form-control\"\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    value={this.state.password}\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                <button type=\"submit\" onClick={this.update} className=\"btn btn-success mt-2 w-100\">\r\n                  Spara\r\n                </button>\r\n              </form>\r\n              <hr />\r\n              <p className=\"cursor-pointer\" onClick={this.logout}>\r\n                Logga ut\r\n              </p>\r\n              <hr />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <Navbar role={profile.role} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst enhance = compose(\r\n  firebaseConnect(),\r\n  connect(state => ({\r\n    profile: state.firebase.profile\r\n  })),\r\n  withRouter\r\n);\r\n\r\nexport default enhance(Settings);\r\n","import React, { Component } from 'react';\r\n\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport { compose } from 'redux';\r\nimport { connect } from 'react-redux';\r\nimport { firestoreConnect, firebaseConnect } from 'react-redux-firebase';\r\nimport Quiz from 'react-quiz-component';\r\nimport * as servicesHttp from '../services/http';\r\n\r\nimport '../styles/css/quiz-modal.css';\r\n\r\nclass quizModal extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      show: false\r\n    };\r\n    this.handleShow = this.handleShow.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n  }\r\n\r\n  handleShow() {\r\n    this.setState({ show: true });\r\n  }\r\n\r\n  handleClose() {\r\n    this.setState({ show: false });\r\n  }\r\n\r\n  render() {\r\n    const { show } = this.state;\r\n    const { quiz } = this.props;\r\n\r\n    const quizData = Object.assign({}, quiz, {\r\n      appLocale: {\r\n        landingHeaderText: '<questionLength> Frågor',\r\n        multipleSelectionTagText: 'Flerval',\r\n        nextQuestionBtn: 'Nästa',\r\n        pickNumberOfSelection: 'Välj <numberOfSelection>',\r\n        question: 'Fråga',\r\n        resultFilterAll: 'Alla',\r\n        resultFilterCorrect: 'Rätt',\r\n        resultFilterIncorrect: 'Fel',\r\n        resultPageHeaderText: 'Du har avslutat quizzen. Du fick <correctIndexLength> av <questionLength> frågor rätt.',\r\n        resultPagePoint: '',\r\n        singleSelectionTagText: 'Ett val',\r\n        startQuizBtn: 'Starta quiz'\r\n      }\r\n    });\r\n\r\n    const onCompleteAction = obj => {\r\n      console.log('complete: ', obj);\r\n      const { firestore, userUid, lectureId, quiz } = this.props;\r\n\r\n      const data = Object.assign({}, { ...obj, quizTitle: quiz.quizTitle });\r\n\r\n      // Convert multiple answers to a map, for firebase storage\r\n      data.userInput = data.userInput.map(input => {\r\n        if (typeof input === 'object') {\r\n          input = Object.assign({}, input);\r\n        }\r\n        return input;\r\n      });\r\n\r\n      data.quizSubmitted = new Date().toISOString();\r\n\r\n      let batch = firestore.batch();\r\n\r\n      const teacherCheck = firestore.collection('users').doc(userUid);\r\n      batch.update(teacherCheck, { teacherCheck: true });\r\n\r\n      const quizzesData = firestore\r\n        .collection('users')\r\n        .doc(userUid)\r\n        .collection('quizzes')\r\n        .doc(lectureId);\r\n\r\n      batch.set(quizzesData, data);\r\n\r\n      batch\r\n        .commit()\r\n        .then(() => {})\r\n        .catch(err => servicesHttp.handleError(err));\r\n    };\r\n\r\n    return (\r\n      <div className=\"text-center\">\r\n        <button className=\"btn btn-success quiz-btn\" onClick={this.handleShow}>\r\n          Starta quiz\r\n        </button>\r\n\r\n        <Modal show={show} backdrop=\"static\" keyboard={false} onHide={this.handleClose}>\r\n          <Modal.Body>\r\n            <Quiz quiz={quizData} locale={this.quizLocale} onComplete={onCompleteAction} />\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <button className=\"btn btn-sm btn-danger\" onClick={this.handleClose}>\r\n              <i className=\"fa fa-times\"></i>\r\n            </button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst enhance = compose(\r\n  firestoreConnect(),\r\n  firebaseConnect(),\r\n  connect(state => ({\r\n    profile: state.firebase.profile,\r\n    userUid: state.firebase.auth.uid\r\n  }))\r\n);\r\n\r\nexport default enhance(quizModal);\r\n","import React, { Component } from 'react';\r\n\r\nimport { firestoreConnect } from 'react-redux-firebase';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\n\r\nimport Topbar from '../components/topbar';\r\nimport Navbar from '../components/navbar';\r\nimport QuizModal from '../components/quiz-modal';\r\nimport { Accordion, Card } from 'react-bootstrap';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nclass Lecture extends Component {\r\n  componentDidMount() {\r\n    const { lecture } = this.props;\r\n    if (!lecture) {\r\n      this.props.history.push('/404');\r\n    }\r\n  }\r\n  render() {\r\n    const { profile, lecture, quizzes } = this.props;\r\n\r\n    const innerHtml = text => {\r\n      return { __html: text ? text : '--' };\r\n    };\r\n\r\n    return (\r\n      <div>\r\n        {lecture && (\r\n          <>\r\n            <Topbar name={lecture.name} backLink=\"/\" color={lecture.color} />\r\n            <div className=\"container navbar-margin\">\r\n              <div className=\"lecture mt-2\">\r\n                {lecture.videoUrl && <iframe title=\"vidoe\" width=\"100%\" height=\"200px\" src={lecture.videoUrl}></iframe>}\r\n                <p className=\"text-14\" dangerouslySetInnerHTML={innerHtml(lecture.information)}></p>\r\n                <Accordion>\r\n                  {lecture.links &&\r\n                    lecture.links.map((link, index) => (\r\n                      <Card key={index}>\r\n                        <Accordion.Toggle\r\n                          as={Card.Header}\r\n                          variant=\"link\"\r\n                          eventKey={index}\r\n                          className=\"w-100 text-left px-3 py-2\"\r\n                          dangerouslySetInnerHTML={innerHtml(link.heading)}></Accordion.Toggle>\r\n                        <Accordion.Collapse eventKey={index}>\r\n                          <Card.Body className=\"px-3 py-2\">\r\n                            <ul className=\"p-0\" style={{ listStyle: 'none' }}>\r\n                              {link.items.map(item => (\r\n                                <li key={item} dangerouslySetInnerHTML={innerHtml(item)}></li>\r\n                              ))}\r\n                            </ul>\r\n                          </Card.Body>\r\n                        </Accordion.Collapse>\r\n                      </Card>\r\n                    ))}\r\n                </Accordion>\r\n                {quizzes && quizzes.map(quiz => <QuizModal key={quiz.quizId} quiz={quiz} lectureId={lecture.id} />)}\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n        <Navbar role={profile.role} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst enhance = compose(\r\n  firestoreConnect(props => [\r\n    {\r\n      collection: 'lectures'\r\n    },\r\n    {\r\n      collection: 'lectures',\r\n      doc: props.match.params.lectureName.toLowerCase(),\r\n      subcollections: [{ collection: 'quiz' }],\r\n      storeAs: 'quizzes'\r\n    }\r\n  ]),\r\n  connect((state, prop) => {\r\n    const lectureName = prop.match.params.lectureName.toLowerCase();\r\n    return {\r\n      profile: state.firebase.profile,\r\n      lecture: state.firestore.ordered.lectures && state.firestore.ordered.lectures.find(x => x.id === lectureName),\r\n      quizzes: state.firestore.ordered.quizzes\r\n    };\r\n  }),\r\n  withRouter\r\n);\r\n\r\nexport default enhance(Lecture);\r\n","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nclass NoMatch extends Component {\r\n  render() {\r\n    const nextPath = () => {\r\n      this.props.history.push('/');\r\n    };\r\n    return (\r\n      <div className=\"text-center mt-5\">\r\n        <i className=\"fa fa-exclamation-triangle text-danger w-100\" style={{ fontSize: '2rem' }}></i>\r\n        <p>Sidan du försöker nå finns inte</p>\r\n        <button className=\"btn btn-warning\" onClick={() => nextPath()}>\r\n          Tillbaka till hem\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(NoMatch);\r\n","import React, { Component, Suspense } from 'react';\r\n\r\n/* thired part packages */\r\n\r\nimport { Route, HashRouter, Switch } from 'react-router-dom';\r\n\r\nimport { isLoaded, firebaseConnect, firestoreConnect } from 'react-redux-firebase';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { ToastContainer, Slide } from 'react-toastify';\r\n\r\n/* our components */\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport './styles/css/main.css';\r\nimport './styles/css/home.css';\r\n\r\nimport Landing from './views/landing';\r\nimport Home from './views/home';\r\nimport Admin from './views/admin';\r\nimport Settings from './views/settings';\r\nimport Lecture from './views/lecture';\r\nimport NoMatch from './views/no-match';\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      user: null\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.firebase.auth().onAuthStateChanged(user => {\r\n      if (user) {\r\n        this.setState({ user });\r\n      } else {\r\n        this.setState({ user: null });\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const profile = this.props.profile;\r\n    return (\r\n      <div className=\"app\">\r\n        <ToastContainer\r\n          position=\"top-right\"\r\n          autoClose={5000}\r\n          hideProgressBar={false}\r\n          newestOnTop={false}\r\n          closeOnClick\r\n          rtl={false}\r\n          pauseOnFocusLoss\r\n          pauseOnHover\r\n          closeButton={false}\r\n          transition={Slide}\r\n        />\r\n        {isLoaded(profile) && (\r\n          <HashRouter>\r\n            <Suspense fallback=\"loading\">\r\n              <Switch>\r\n                <Route path=\"/\" exact component={profile.email ? Home : Landing} />\r\n                <Route path=\"/settings\" component={profile.email ? Settings : Landing} />\r\n                <Route path=\"/lecture/:lectureName\" component={profile.email ? Lecture : Landing} />\r\n                <Route path=\"/admin\" component={profile.email ? Admin : Landing} />\r\n                <Route component={NoMatch}></Route>\r\n              </Switch>\r\n            </Suspense>\r\n          </HashRouter>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst enhance = compose(\r\n  firebaseConnect(),\r\n  firestoreConnect(),\r\n  connect(state => ({\r\n    profile: state.firebase.profile\r\n  }))\r\n);\r\n\r\nexport default enhance(App);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { createStore, combineReducers, applyMiddleware, compose } from 'redux';\r\n\r\nimport { Provider } from 'react-redux';\r\nimport { ReactReduxFirebaseProvider, firebaseReducer } from 'react-redux-firebase';\r\nimport { createFirestoreInstance, firestoreReducer } from 'redux-firestore';\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport './i18next';\r\n\r\n\r\n\r\nconst fbConfig = {\r\n  apiKey: 'AIzaSyCjN4obQGSoePw-wME_yA8JVx6kIzuRCwE',\r\n  authDomain: 'kunskapspaketet.firebaseapp.com',\r\n  databaseURL: 'https://kunskapspaketet.firebaseio.com',\r\n  projectId: 'kunskapspaketet',\r\n  storageBucket: 'kunskapspaketet.appspot.com',\r\n  messagingSenderId: '1011354741666',\r\n  appId: '1:1011354741666:web:fe999e52c5d62fedb420fb'\r\n};\r\n\r\n// react-redux-firebase config\r\nconst rrfConfig = {\r\n  userProfile: 'users',\r\n  useFirestoreForProfile: true\r\n};\r\n\r\n// Initialize firebase instance\r\nfirebase.initializeApp(fbConfig);\r\n\r\n// Initialize other services on firebase instance\r\nfirebase.firestore(); // <- needed if using firestore\r\n\r\n// Add firebase to reducers\r\nconst rootReducer = combineReducers({\r\n  firebase: firebaseReducer,\r\n  firestore: firestoreReducer\r\n});\r\n\r\n// Create store with reducers and initial state\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)));\r\n\r\nconst rrfProps = {\r\n  firebase,\r\n  config: rrfConfig,\r\n  dispatch: store.dispatch,\r\n  createFirestoreInstance\r\n};\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <ReactReduxFirebaseProvider {...rrfProps}>\r\n      <App />\r\n    </ReactReduxFirebaseProvider>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}